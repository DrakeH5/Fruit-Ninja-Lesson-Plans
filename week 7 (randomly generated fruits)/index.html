<html>
  <head>
    <div id="sprites">

    </div>
  </head>
  <body>
    <canvas id="canvas"></canvas>
    <style>
      #canvas {
        background-color: white;
        width: 100%;
        height: 100%;
      }
    </style>
    <script src="fruits.js"></script>
    <script src="slicing.js"></script>
    <script>
      var canvas = document.getElementById("canvas");
      var ctx = canvas.getContext("2d");

      var fruits = [
        new Fruit(100,100,50,25,1,-1,1,3,"square"),
        new Fruit(10,100,25,25,1,-1,1,3,"circle"),
      ]
      score=0;
      gameLength=1;
      Timer=0;
      var shapes = ["square","circle"]
      setInterval(function(){
        canvas.width=canvas.width;
        i=0;
        while(i<fruits.length){
          fruits[i].update(i);
          i++;
        }
        checkSlicing();
        ctx.font = "30px Arial";
        ctx.fillText(Math.round(score), 10, 50);
        if(Timer==0&&fruits.length<20){
          Timer=Math.floor(Math.random()*50)+30;
          if(gameLength<6){gameLength++}
          i=0;
          nbmOfNewFruits=Math.floor(Math.random()*(gameLength+1))+(gameLength-1);
          while(i<nbmOfNewFruits){
            fruits.push(new Fruit(Math.floor(Math.random()*(canvas.width-(canvas.width/5)))+canvas.width/5,canvas.height,Math.floor(Math.random()*70)+10,Math.floor(Math.random()*70)+10,Math.round(Math.random())*2-1,-1,Math.floor(Math.random()*5)+1.5,Math.floor(Math.random()*10)+4,shapes[Math.floor(Math.random())]));
            i++;
          }
        }
      Timer--;
      },100)
    </script>
  </body>
</html>
